(function(){"use strict";var e={7743:function(e,t,s){var o=s(9963),a=s(6252),r=s(3577);const i={id:"wrapper"},n={class:"navbar",style:{"background-color":"#FFDFD3"}},l={class:"navbar-brand"},c=(0,a._)("strong",null,"Glasgo",-1),u={class:"navbar-menu"},d=(0,a._)("div",{class:"navbar-start"},[(0,a._)("div",{class:"navbar-item"},[(0,a._)("form",{method:"get",action:"/search"},[(0,a._)("div",{class:"field has-addons"},[(0,a._)("div",{class:"control"},[(0,a._)("input",{type:"text",class:"input",placeholder:"Explore Glasgow",name:"query"})]),(0,a._)("div",{class:"control"},[(0,a._)("button",{class:"button"},[(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fas fa-search"})])])])])])])],-1),p={class:"navbar-end"},g={class:"navbar-item"},m={class:"buttons"},h=(0,a._)("div",{class:"lds-dual-ring"},null,-1),v=[h],_={class:"section"},w={class:"footer"},f=(0,a._)("p",{class:"has-text-centered"},"Copyright (c) 2023",-1),y=(0,a._)("p",{class:"has-text-centered"},"Contact Us",-1);function b(e,t,s,o,h,b){const k=(0,a.up)("router-link"),S=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("nav",n,[(0,a._)("div",l,[(0,a.Wm)(k,{to:"/",class:"navbar-item"},{default:(0,a.w5)((()=>[c])),_:1})]),(0,a._)("div",u,[d,(0,a._)("div",p,[(0,a.Wm)(k,{to:"/category",class:"navbar-item"},{default:(0,a.w5)((()=>[(0,a.Uk)("Category")])),_:1}),(0,a.Wm)(k,{to:"/about",class:"navbar-item"},{default:(0,a.w5)((()=>[(0,a.Uk)("About us")])),_:1}),(0,a._)("div",g,[(0,a._)("div",m,[e.$store.state.isAuthenticated?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Wm)(k,{to:"/my-account",class:"button is-info is-light"},{default:(0,a.w5)((()=>[(0,a.Uk)("My account")])),_:1}),(0,a._)("button",{onClick:t[0]||(t[0]=e=>b.logout()),class:"button is-danger is-dark"},"Log out")],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a.Wm)(k,{to:"/log-in",class:"button is-light"},{default:(0,a.w5)((()=>[(0,a.Uk)("Log in")])),_:1}),(0,a.Wm)(k,{to:"/sign-up",class:"button is-primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("Sign up")])),_:1})],64))])])])])]),(0,a._)("div",{class:(0,r.C_)(["is-loading-bar has-text-centered",{"is-loading":e.$store.state.isLoading}])},v,2),(0,a._)("section",_,[(0,a.Wm)(S)]),(0,a._)("footer",w,[f,(0,a.Wm)(k,{to:"/contact"},{default:(0,a.w5)((()=>[y])),_:1})])])}s(7658);var k=s(6154),S={data(){return{showMobileMenu:!1}},beforeCreate(){this.$store.commit("initializeStore"),console.log("user at initialize",this.$store.state.user);const e=this.$store.state.token;k.Z.defaults.headers.common.Authorization=e?"Token "+e:""},mounted(){this.cart=this.$store.state.cart},methods:{logout(){k.Z.defaults.headers.common.Authorization="",localStorage.removeItem("token"),localStorage.removeItem("user"),this.$store.commit("removeToken"),this.$store.commit("removeUser"),this.$router.push("/")}}},x=s(3744);const $=(0,x.Z)(S,[["render",b]]);var D=$,U=s(2201),C=s(3907),z=(0,C.MT)({state:{isAuthenticated:!1,token:"",isLoading:!1,user:{username:null,shop_owner:!1}},mutations:{initializeStore(e){localStorage.getItem("token")?(e.token=localStorage.getItem("token"),e.isAuthenticated=!0,e.user.username=localStorage.getItem("user"),e.user.shop_owner=localStorage.getItem("shop_owner")):(e.token="",e.isAuthenticated=!1)},setIsLoading(e,t){e.isLoading=t},setToken(e,t){e.token=t,e.isAuthenticated=!0},removeToken(e){e.token="",e.isAuthenticated=!1},setUser(e,{username:t,shop_owner:s}){e.user?(e.user.username=t,e.user.shop_owner=s):e.user={username:t,shop_owner:s}},removeUser(e,t){e.user=""}},getters:{user:e=>e.user},actions:{},modules:{}});const F=e=>((0,a.dD)("data-v-15cecb60"),e=e(),(0,a.Cn)(),e),L={class:"home"},I=F((()=>(0,a._)("section",{class:"hero is-medium is-dark mb-6",style:{"background-color":"#FFDFD3"}},[(0,a._)("div",{class:"hero-body"},[(0,a._)("div",{class:"container has-text-centered"},[(0,a._)("p",{class:"title mb-6 has-text-black"}," Start your Glasgow Adventure "),(0,a._)("form",{method:"get",action:"/search",class:"mt-6"},[(0,a._)("div",{class:"field has-addons"},[(0,a._)("div",{class:"control is-expanded"},[(0,a._)("input",{type:"text",class:"input",placeholder:"Start exploring",name:"query"})]),(0,a._)("div",{class:"control"},[(0,a._)("button",{class:"button"},[(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fas fa-search"})])])])])])])])],-1))),Z={class:"columns is-multiline"},q=F((()=>(0,a._)("div",{class:"column is-12"},[(0,a._)("h2",{class:"is-size-2 has-text-centered"},"Explore These Categories")],-1))),A={class:"box"},O={class:"image mb-4"},P=["src"],R={class:"is-size-4"};function H(e,t,s,o,i,n){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",L,[I,(0,a._)("div",Z,[q,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.categories,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"column is-3",key:e.id},[(0,a.Wm)(l,{to:e.get_absolute_url},{default:(0,a.w5)((()=>[(0,a._)("div",A,[(0,a._)("figure",O,[(0,a._)("img",{src:e.get_thumbnail},null,8,P)]),(0,a._)("h3",R,(0,r.zw)(e.name),1)])])),_:2},1032,["to"])])))),128))])])}var Y={name:"Home",data(){return{categories:[]}},components:{},mounted(){this.getCategoryList(),document.title="Home | Glasgo"},methods:{getCategoryList(){k.Z.get("/api/v1/categories/").then((e=>{this.categories=e.data})).catch((e=>{console.log(e)}))}}};const G=(0,x.Z)(Y,[["render",H],["__scopeId","data-v-15cecb60"]]);var V=G;const j=e=>((0,a.dD)("data-v-44fe4e52"),e=e(),(0,a.Cn)(),e),M={class:"page-product"},T={class:"columns is-multiline"},W={class:"column is-9",style:{"margin-bottom":"50px"}},K={class:"is-flex is-justify-content-space-between"},E={class:"title"},N={class:"button-wrapper"},B=["href"],J=j((()=>(0,a._)("strong",null,"Phone: ",-1))),X=j((()=>(0,a._)("strong",null,"Description: ",-1))),Q=j((()=>(0,a._)("strong",null,"Rating: ",-1))),ee={class:"column is-3"},te={class:"image mb-3"},se=["src"],oe={class:"column is-12 mt-6"},ae=j((()=>(0,a._)("h2",{class:"review",style:{"font-size":"24px"}},"Customer Reviews",-1))),re={class:"column is-12"},ie={class:"box"};function ne(e,t,s,o,i,n){return(0,a.wg)(),(0,a.iD)("div",M,[(0,a._)("div",T,[(0,a._)("div",W,[(0,a._)("div",K,[(0,a._)("h1",E,(0,r.zw)(i.product.name),1),e.$store.state.isAuthenticated?((0,a.wg)(),(0,a.iD)("i",{key:0,class:(0,r.C_)(["fa fa-heart",{favorite:i.isFavorite}]),onClick:t[0]||(t[0]=(...e)=>n.toggleFavorite&&n.toggleFavorite(...e))},null,2)):(0,a.kq)("",!0)]),(0,a._)("div",N,[(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>n.goToReviewPage&&n.goToReviewPage(...e)),class:"button is-rounded",style:{"background-color":"#FFDFD3"}},"Add Review")]),(0,a._)("p",null,[(0,a._)("strong",null,(0,r.zw)(i.product.address),1),(0,a.Uk)(),(0,a._)("a",{href:i.product.map_url,target:"_blank"},"(Map direction)",8,B)]),(0,a._)("p",null,[J,(0,a.Uk)(" "+(0,r.zw)(i.product.phone),1)]),(0,a._)("p",null,[X,(0,a.Uk)((0,r.zw)(i.product.description),1)]),(0,a._)("p",null,[Q,(0,a.Uk)(" "+(0,r.zw)(i.product.avg_rating?i.product.avg_rating.toFixed(2):"")+" / 5",1)])]),(0,a._)("div",ee,[(0,a._)("figure",te,[(0,a._)("img",{src:i.product.get_image,style:{width:"500px",height:"auto"}},null,8,se)])]),(0,a._)("div",oe,[ae,(0,a._)("div",re,[(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.reviews,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"column is-6"},[(0,a._)("div",ie,[(0,a._)("p",null,[(0,a._)("strong",null,(0,r.zw)(e.user.username),1)]),(0,a._)("p",null,(0,r.zw)(e.content),1),(0,a._)("p",null,"Rating: "+(0,r.zw)(e.rating)+"/5",1),(0,a._)("p",null,(0,r.zw)(e.datetime),1)])])))),128))])])])])])}var le=s(7792),ce={name:"Product",components:{},data(){return{product:{},reviews:[],product_slug:"",isFavorite:!1,favorite:!1}},mounted(){this.getProduct(),this.getReviewList();const e=this.$store.state.isAuthenticated;if(e){const e=this.$route.params.product_slug,t=localStorage.getItem("user");k.Z.get(`/api/v1/favorite-shops/product/${e}/user/${t}`).then((e=>{const t=e.data.id;null!==t&&(this.isFavorite=!0)})).catch((e=>{console.log(e),404===e.response.status&&console.log("Favorite shop not found!")}))}},methods:{toggleFavorite(){this.isFavorite=!this.isFavorite;const e=this.$route.params.product_slug,t=localStorage.getItem("user");if(this.isFavorite){const s={product:e,user:t};k.Z.post("/api/v1/favorite-shops/",s).then((e=>{})).catch((e=>{console.log(e)}))}if(!this.isFavorite){k.Z["delete"]("/api/v1/favorite-shops/delete/",{data:{user:t,product:e}}).then((e=>{})).catch((e=>{console.log(e),404===e.response.status?console.error("Favorite shop not found!"):console.error("Error deleting favorite shop:",e)}))}},async getProduct(){this.$store.commit("setIsLoading",!0);const e=this.$route.params.category_slug,t=this.$route.params.product_slug;await k.Z.get(`/api/v1/products/${e}/${t}`).then((e=>{this.product=e.data,document.title=this.product.name+" | Glasgo"})).catch((e=>{console.log(e)})),this.$store.commit("setIsLoading",!1),this.product_slug=t},getReviewList(){const e=this.$route.params.product_slug;k.Z.get(`/api/v1/products/${e}/reviews`).then((e=>{this.reviews=e.data})).catch((e=>{console.log(e)}))},goToReviewPage(){this.$route.params.category_slug,this.$route.params.product_slug;this.$router.push({name:"Review"})}}};const ue=(0,x.Z)(ce,[["render",ne],["__scopeId","data-v-44fe4e52"]]);var de=ue;const pe={class:"page-category"},ge={class:"columns is-multiline"},me={class:"column is-12"},he={class:"is-size-2 has-text-centered"};function ve(e,t,s,o,i,n){const l=(0,a.up)("ProductBox");return(0,a.wg)(),(0,a.iD)("div",pe,[(0,a._)("div",ge,[(0,a._)("div",me,[(0,a._)("h2",he,(0,r.zw)(i.category.name),1)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.category.products,(e=>((0,a.wg)(),(0,a.j4)(l,{key:e.id,product:e},null,8,["product"])))),128))])])}const _e={class:"box product-box"},we={class:"image mb-4"},fe=["src"],ye={class:"is-size-4"};function be(e,t,s,o,i,n){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",_e,[(0,a._)("figure",we,[(0,a._)("img",{src:s.product.get_thumbnail},null,8,fe)]),(0,a._)("h3",ye,(0,r.zw)(s.product.name),1),(0,a.Wm)(l,{to:s.product.get_absolute_url,class:"button is-dark mt-4"},{default:(0,a.w5)((()=>[(0,a.Uk)("View details")])),_:1},8,["to"])])}var ke={name:"ProductBox",props:{product:Object}};const Se=(0,x.Z)(ke,[["render",be],["__scopeId","data-v-792ef766"]]);var xe=Se,$e={name:"Category",components:{ProductBox:xe},data(){return{category:{products:[]}}},mounted(){this.getCategory()},watch:{$route(e,t){"Category"===e.name&&this.getCategory()}},methods:{async getCategory(){const e=this.$route.params.category_slug;this.$store.commit("setIsLoading",!0),k.Z.get(`/api/v1/products/${e}/`).then((e=>{this.category=e.data,document.title=this.category.name+" | Glasgo"})).catch((e=>{console.log(e),(0,le.toast)({message:"Something went wrong. Please try again.",type:"is-danger",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})})),this.$store.commit("setIsLoading",!1)}}};const De=(0,x.Z)($e,[["render",ve]]);var Ue=De;const Ce={class:"page-search"},ze={class:"columns is-multiline"},Fe={class:"column is-12"},Le=(0,a._)("h1",{class:"title"},"Search",-1),Ie={class:"is-size-5 has-text-grey"};function Ze(e,t,s,o,i,n){const l=(0,a.up)("ProductBox");return(0,a.wg)(),(0,a.iD)("div",Ce,[(0,a._)("div",ze,[(0,a._)("div",Fe,[Le,(0,a._)("h2",Ie,'Search term: "'+(0,r.zw)(i.query)+'"',1)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.products,(e=>((0,a.wg)(),(0,a.j4)(l,{key:e.id,product:e},null,8,["product"])))),128))])])}var qe={name:"Search",components:{ProductBox:xe},data(){return{products:[],query:""}},mounted(){document.title="Search | Djackets";let e=window.location.search.substring(1),t=new URLSearchParams(e);t.get("query")&&(this.query=t.get("query"),this.performSearch())},methods:{async performSearch(){this.$store.commit("setIsLoading",!0),await k.Z.post("/api/v1/products/search/",{query:this.query}).then((e=>{this.products=e.data})).catch((e=>{console.log(e)})),this.$store.commit("setIsLoading",!1)}}};const Ae=(0,x.Z)(qe,[["render",Ze]]);var Oe=Ae;const Pe={class:"page-log-in"},Re={class:"columns"},He={class:"column is-4 is-offset-4"},Ye=(0,a._)("h1",{class:"title"},"Log in",-1),Ge={class:"field"},Ve=(0,a._)("label",null,"Username",-1),je={class:"control"},Me={class:"field"},Te=(0,a._)("label",null,"Password",-1),We={class:"control"},Ke={key:0,class:"notification is-danger"},Ee=(0,a._)("div",{class:"field"},[(0,a._)("div",{class:"control"},[(0,a._)("button",{class:"button is-dark"},"Log in")])],-1),Ne=(0,a._)("hr",null,null,-1);function Be(e,t,s,i,n,l){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",Pe,[(0,a._)("div",Re,[(0,a._)("div",He,[Ye,(0,a._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,a._)("div",Ge,[Ve,(0,a._)("div",je,[(0,a.wy)((0,a._)("input",{type:"text",class:"input","onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e)},null,512),[[o.nr,n.username]])])]),(0,a._)("div",Me,[Te,(0,a._)("div",We,[(0,a.wy)((0,a._)("input",{type:"password",class:"input","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e)},null,512),[[o.nr,n.password]])])]),n.errors.length?((0,a.wg)(),(0,a.iD)("div",Ke,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.errors,(e=>((0,a.wg)(),(0,a.iD)("p",{key:e},(0,r.zw)(e),1)))),128))])):(0,a.kq)("",!0),Ee,Ne,(0,a.Uk)(" Or "),(0,a.Wm)(c,{to:"/sign-up"},{default:(0,a.w5)((()=>[(0,a.Uk)("click here")])),_:1}),(0,a.Uk)(" to sign up! ")],32)])])])}var Je={name:"LogIn",data(){return{username:"",password:"",errors:[]}},mounted(){document.title="Log In | Glasgo"},methods:{async submitForm(){k.Z.defaults.headers.common.Authorization="",localStorage.removeItem("token"),localStorage.removeItem("user");const e={username:this.username,password:this.password};await k.Z.post("/api/v1/token/login/",e).then((e=>{const t=e.data.auth_token;this.$store.commit("setToken",t),k.Z.defaults.headers.common.Authorization="Token "+t,localStorage.setItem("token",t),localStorage.setItem("user",this.username)})).catch((e=>{if(e.response)for(const t in e.response.data)this.errors.push(`${t}: ${e.response.data[t]}`);else this.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(e))})),await k.Z.get("/api/v1/users/me").then((e=>{e.data;this.$store.commit("setUser",{username:e.data.username,shop_owner:e.data.is_staff}),localStorage.setItem("username",e.data.username),localStorage.setItem("shop_owner",e.data.is_staff),console.log("print state user",this.$store.state.user);const t=this.$route.query.to||"/my-account";this.$router.push(t)})).catch((e=>{console.log(e)}))}}};const Xe=(0,x.Z)(Je,[["render",Be]]);var Qe=Xe;const et={class:"page-log-in"},tt={class:"columns"},st={class:"column is-4 is-offset-4"},ot=(0,a._)("h1",{class:"title"},"Log in",-1),at={class:"field"},rt=(0,a._)("label",null,"Username",-1),it={class:"control"},nt={class:"field"},lt=(0,a._)("label",null,"Password",-1),ct={class:"control"},ut={key:0,class:"notification is-danger"},dt=(0,a._)("div",{class:"field"},[(0,a._)("div",{class:"control"},[(0,a._)("button",{class:"button is-dark"},"Log in")])],-1),pt=(0,a._)("hr",null,null,-1);function gt(e,t,s,i,n,l){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",et,[(0,a._)("div",tt,[(0,a._)("div",st,[ot,(0,a._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,a._)("div",at,[rt,(0,a._)("div",it,[(0,a.wy)((0,a._)("input",{type:"text",class:"input","onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e)},null,512),[[o.nr,n.username]])])]),(0,a._)("div",nt,[lt,(0,a._)("div",ct,[(0,a.wy)((0,a._)("input",{type:"password",class:"input","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e)},null,512),[[o.nr,n.password]])])]),n.errors.length?((0,a.wg)(),(0,a.iD)("div",ut,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.errors,(e=>((0,a.wg)(),(0,a.iD)("p",{key:e},(0,r.zw)(e),1)))),128))])):(0,a.kq)("",!0),dt,pt,(0,a.Uk)(" Or "),(0,a.Wm)(c,{to:"/sign-up"},{default:(0,a.w5)((()=>[(0,a.Uk)("click here")])),_:1}),(0,a.Uk)(" to sign up! ")],32)])])])}var mt={name:"LogIn",data(){return{username:"",password:"",errors:[]}},mounted(){document.title="Log In | Glasgo"},methods:{async submitForm(){k.Z.defaults.headers.common.Authorization="",localStorage.removeItem("token"),localStorage.removeItem("user");const e={username:this.username,password:this.password};await k.Z.post("/api/v1/token/login/",e).then((e=>{const t=e.data.auth_token;this.$store.commit("setToken",t),k.Z.defaults.headers.common.Authorization="Token "+t,localStorage.setItem("token",t),localStorage.setItem("user",this.username)})).catch((e=>{if(e.response)for(const t in e.response.data)this.errors.push(`${t}: ${e.response.data[t]}`);else this.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(e))})),await k.Z.get("/api/v1/users/me").then((e=>{e.data;this.$store.commit("setUser",{username:e.data.username,shop_owner:e.data.is_staff}),localStorage.setItem("username",e.data.username),localStorage.setItem("shop_owner",e.data.is_staff),console.log("print state user",this.$store.state.user);const t=this.$route.query.to||"/my-account";this.$router.push(t)})).catch((e=>{console.log(e)}))}}};const ht=(0,x.Z)(mt,[["render",gt]]);var vt=ht;const _t={class:"page-my-account"},wt={class:"columns is-multiline"},ft=(0,a._)("div",{class:"column is-10"},[(0,a._)("h1",{class:"title"},"My account")],-1),yt=(0,a._)("div",{calss:"column is-1"},[(0,a._)("button",{class:"button is-light"}," Shop Owner View ")],-1),bt={class:"column is-multiline is-flex"},kt={ref:"leftside",class:"column is-6"},St=(0,a._)("h2",{style:{"font-size":"24px"}},"Your Reviews",-1),xt=["review"],$t={class:"box"},Dt=(0,a._)("strong",null,"Content: ",-1),Ut=(0,a._)("strong",null,"Rating: ",-1),Ct={class:"column is-5"},zt=(0,a._)("h2",{style:{"font-size":"24px","margin-bottom":"12px"}},"Your Favorite Shops",-1),Ft={class:"box"},Lt=["favshop"];function It(e,t,s,o,i,n){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",_t,[(0,a._)("div",wt,[ft,e.$store.state.user.shop_owner?((0,a.wg)(),(0,a.j4)(l,{key:0,to:"/user/shop-owner-view"},{default:(0,a.w5)((()=>[yt])),_:1})):(0,a.kq)("",!0)]),(0,a._)("div",bt,[(0,a._)("div",kt,[St,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.reviews,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,review:e,class:"column is-10"},[(0,a._)("div",$t,[(0,a._)("p",null,[(0,a._)("strong",null,(0,r.zw)(e.product.name),1)]),(0,a._)("p",null,[Dt,(0,a.Uk)((0,r.zw)(e.content),1)]),(0,a._)("p",null,[Ut,(0,a.Uk)((0,r.zw)(e.rating)+"/5",1)]),(0,a._)("p",null,"Reviewed on: "+(0,r.zw)(e.datetime),1)])],8,xt)))),128))],512),(0,a._)("div",Ct,[zt,(0,a._)("div",Ft,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.favshops,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.product,favshop:i.fav-i.shop},[(0,a._)("p",null,[(0,a._)("strong",null,(0,r.zw)(e.product.name),1)])],8,Lt)))),128))])])])])}var Zt={name:"MyAccount",data(){return{reviews:[],favshops:[],fav:{},shop:{}}},mounted(){this.getUserAllReviewList(),this.getUserFavoriteShopList()},methods:{getUserAllReviewList(){const e=localStorage.getItem("user");console.log("username: ",e),k.Z.get(`/api/v1/reviews/user/${e}/`).then((e=>{console.log(e.data),this.reviews=e.data})).catch((e=>{console.log(e)}))},getUserFavoriteShopList(){k.Z.get("/api/v1/favorite-shops").then((e=>{console.log(e.data),this.favshops=e.data})).catch((e=>{console.log(e)}))}}};const qt=(0,x.Z)(Zt,[["render",It]]);var At=qt;const Ot=e=>((0,a.dD)("data-v-973ba8e2"),e=e(),(0,a.Cn)(),e),Pt={class:"home"},Rt=Ot((()=>(0,a._)("div",{class:"columns is-multiline"},[(0,a._)("div",{class:"column is-12"},[(0,a._)("h2",{class:"is-size-2 has-text-centered"},"Explore These Categories")])],-1))),Ht={class:""},Yt={class:"column is-12"},Gt={class:"is-size-4 has-text-left"},Vt=["product"],jt={class:"box"},Mt={class:"image mb-1"},Tt=["src"],Wt={class:"is-size-4"};function Kt(e,t,s,o,i,n){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",Pt,[Rt,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.categories,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"column is-12",key:e.id},[(0,a.Wm)(l,{to:e.get_absolute_url},{default:(0,a.w5)((()=>[(0,a._)("div",Ht,[(0,a._)("div",Yt,[(0,a._)("h3",Gt,(0,r.zw)(e.name),1)])])])),_:2},1032,["to"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.products,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,product:e},[(0,a._)("div",null,[(0,a._)("div",jt,[(0,a._)("figure",Mt,[(0,a._)("img",{src:e.get_thumbnail},null,8,Tt)]),(0,a.Wm)(l,{to:e.get_absolute_url},{default:(0,a.w5)((()=>[(0,a._)("h3",Wt,(0,r.zw)(e.name),1)])),_:2},1032,["to"]),(0,a.Uk)(" Current Rating: "+(0,r.zw)(e.avg_rating?e.avg_rating.toFixed(2):"")+" / 5 ",1)])])],8,Vt)))),128))])))),128))])}var Et={name:"CategoriesPage",components:{ProductBox:xe},data(){return{categories:[],products:[]}},components:{},mounted(){this.getCategoryList(),this.categories.forEach((e=>{this.getCategory(e)})),document.title="All Categories | Glasgo"},methods:{getCategoryList(){k.Z.get("/api/v1/categories/").then((e=>{this.categories=e.data})).catch((e=>{console.log(e)}))},async getCategory(e){const t=e.slug;console.log("slug",t),k.Z.get(`/api/v1/products/${t}/product-list`).then((t=>{e.products=t.data})).catch((e=>{console.log(e),(0,le.toast)({message:"Something went wrong. Please try again.",type:"is-danger",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})})),this.$store.commit("setIsLoading",!1)}}};const Nt=(0,x.Z)(Et,[["render",Kt],["__scopeId","data-v-973ba8e2"]]);var Bt=Nt;const Jt={class:"page-add-review"},Xt={class:"column is-multiline"},Qt={class:"column is-12"},es={class:"title"},ts={class:"field"},ss=(0,a._)("label",{class:"label"},"Rating (Required) ",-1),os={class:"control"},as={class:"select"},rs=(0,a.uE)('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option>',5),is=[rs],ns={class:"field"},ls=(0,a._)("label",{class:"label"},"Review (Required) ",-1),cs={class:"control"},us=(0,a._)("div",{class:"field"},[(0,a._)("div",{class:"control"},[(0,a._)("button",{class:"button is-primary",type:"submit"},"Submit")])],-1);function ds(e,t,s,i,n,l){return(0,a.wg)(),(0,a.iD)("div",Jt,[(0,a._)("div",Xt,[(0,a._)("div",Qt,[(0,a._)("h1",es,"Add Review to "+(0,r.zw)(this.product.name),1)]),(0,a._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"])),class:"box"},[(0,a._)("div",ts,[ss,(0,a._)("div",os,[(0,a._)("div",as,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.rating=e)},is,512),[[o.bM,n.rating]])])])]),(0,a._)("div",ns,[ls,(0,a._)("div",cs,[(0,a.wy)((0,a._)("textarea",{class:"textarea","onUpdate:modelValue":t[1]||(t[1]=e=>n.content=e)},null,512),[[o.nr,n.content]])])]),us],32)])])}var ps={name:"AddReview",data(){return{product:{},content:"",rating:"",errors:[],favorite:!1}},computed:{isFavorite(){return this.favorite}},mounted(){},watch:{$route(e,t){"AddReview"===e.name&&this.submitForm()}},methods:{async submitForm(){console.log("isAuthenticated:",this.$store.state.isAuthenticated),this.errors=[],this.rating||this.errors.push("You need to select rating"),""===this.content&&this.errors.push("You need to input the review");const e=this.$route.params.category_slug,t=this.$route.params.product_slug;console.log("category_slug",e);const s=localStorage.getItem("user");if(console.log("storage user",s),console.log("print outside"),console.log("print token: ",token),!this.errors.length){const o={content:this.content,rating:this.rating,product:t,user:s};await k.Z.post("/api/v1/reviews/",o).then((s=>{(0,le.toast)({message:"Review submitted successfully!",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:3e3}),this.$router.push({name:"Product",params:{category_slug:e,product_slug:t}})})).catch((e=>{if(e.response){for(const t in e.response.data)this.errors.push(`${t}: ${e.response.data[t]}`);console.log(JSON.stringify(e.response.data)),(0,le.toast)({message:"Something went wrong. Please try again",type:"is-danger",dismissible:!0,pauseOnHover:!0,duration:3e3})}else e.message&&(this.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(e)))}))}}}};const gs=(0,x.Z)(ps,[["render",ds]]);var ms=gs;const hs=e=>((0,a.dD)("data-v-4f5eb5f4"),e=e(),(0,a.Cn)(),e),vs={class:"page-my-account"},_s={class:"columns is-multiline"},ws=hs((()=>(0,a._)("div",{class:"column is-10"},[(0,a._)("h1",{class:"title"},"Shop Owner Account")],-1))),fs=hs((()=>(0,a._)("div",{calss:"column is-1"},[(0,a._)("button",{class:"button is-light"}," User View ")],-1))),ys={ref:"content",class:"column is-multiline is-flex"},bs={ref:"leftside",class:"column is-6"},ks=hs((()=>(0,a._)("h2",{style:{"font-size":"24px"}},"Your Shops",-1))),Ss={class:"box"},xs=["showproduct"],$s={style:{"margin-bottom":"10px"}},Ds=["onClick"],Us={ref:"createshop",class:"column is-4 is-offset-1"},Cs=hs((()=>(0,a._)("h2",{style:{"font-size":"24px"}},"Create New Shop (All field is required)",-1))),zs={class:"field"},Fs=hs((()=>(0,a._)("label",{class:"label"},"Category",-1))),Ls={class:"control"},Is={class:"select"},Zs=["value"],qs={class:"field"},As=hs((()=>(0,a._)("label",{class:"label"},"Name",-1))),Os={class:"control"},Ps={class:"field"},Rs=hs((()=>(0,a._)("label",{class:"label"},"Description",-1))),Hs={class:"control"},Ys={class:"field"},Gs=hs((()=>(0,a._)("label",{class:"label"},"Address",-1))),Vs={class:"control"},js={class:"field"},Ms=hs((()=>(0,a._)("label",{class:"label"},"Image",-1))),Ts={class:"control"},Ws={class:"field"},Ks=hs((()=>(0,a._)("label",{class:"label"},"Phone",-1))),Es={class:"control"},Ns={class:"field"},Bs=hs((()=>(0,a._)("label",{class:"label"},"Google Map URL (Optional) ",-1))),Js={class:"control"},Xs=hs((()=>(0,a._)("button",{class:"button is-primary",type:"submit"},"Create Shop",-1)));function Qs(e,t,s,i,n,l){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",vs,[(0,a._)("div",_s,[ws,e.$store.state.user.shop_owner?((0,a.wg)(),(0,a.j4)(c,{key:0,to:"/my-account"},{default:(0,a.w5)((()=>[fs])),_:1})):(0,a.kq)("",!0)]),(0,a._)("div",ys,[(0,a._)("div",bs,[ks,(0,a._)("div",Ss,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.productlist,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,showproduct:e},[(0,a._)("p",$s,[(0,a.Wm)(c,{to:e.get_absolute_url},{default:(0,a.w5)((()=>[(0,a._)("strong",null,(0,r.zw)(e.name),1)])),_:2},1032,["to"]),(0,a._)("button",{class:"button is-light is-small product-button",onClick:t=>l.deleteProduct(e)}," Delete ",8,Ds)])],8,xs)))),128))])],512),(0,a._)("div",Us,[Cs,(0,a._)("form",{onSubmit:t[7]||(t[7]=(0,o.iM)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,a._)("div",zs,[Fs,(0,a._)("div",Ls,[(0,a._)("div",Is,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.product.category=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.categories,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,r.zw)(e.name),9,Zs)))),128))],512),[[o.bM,n.product.category]])])])]),(0,a._)("div",qs,[As,(0,a._)("div",Os,[(0,a.wy)((0,a._)("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.product.name=e),required:""},null,512),[[o.nr,n.product.name]])])]),(0,a._)("div",Ps,[Rs,(0,a._)("div",Hs,[(0,a.wy)((0,a._)("textarea",{class:"textarea","onUpdate:modelValue":t[2]||(t[2]=e=>n.product.description=e)},null,512),[[o.nr,n.product.description]])])]),(0,a._)("div",Ys,[Gs,(0,a._)("div",Vs,[(0,a.wy)((0,a._)("input",{class:"input",type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>n.product.address=e),required:""},null,512),[[o.nr,n.product.address]])])]),(0,a._)("div",js,[Ms,(0,a._)("div",Ts,[(0,a._)("input",{class:"input",type:"file",onChange:t[4]||(t[4]=(...e)=>l.onFileChange&&l.onFileChange(...e))},null,32)])]),(0,a._)("div",Ws,[Ks,(0,a._)("div",Es,[(0,a.wy)((0,a._)("input",{class:"input",type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>n.product.phone=e),required:""},null,512),[[o.nr,n.product.phone]])])]),(0,a._)("div",Ns,[Bs,(0,a._)("div",Js,[(0,a.wy)((0,a._)("input",{class:"input",type:"url","onUpdate:modelValue":t[6]||(t[6]=e=>n.product.map_url=e),required:""},null,512),[[o.nr,n.product.map_url]])])]),Xs],32)],512)],512)])}var eo={name:"ShowOwner",data(){return{errors:[],product:{category:"",name:"",description:"",address:"",image:null,phone:"",map_url:"",owner:""},categories:[],testuser:null,productlist:[]}},mounted(){this.getCategoryList(),this.getShopList(),document.title="Show Owner Page | Glasgo",k.Z.get("/api/v1/users/me").then((e=>{this.testuser=e.data}))},methods:{getCategoryList(){k.Z.get("/api/v1/categories/").then((e=>{this.categories=e.data})).catch((e=>{console.log(e)}))},onFileChange(e){this.product.image=e.target.files[0]},async submitForm(){if(this.errors=[],this.product.category||this.errors.push("Category is required"),this.product.name||this.errors.push("Name is required"),this.product.description||this.errors.push("Description is required"),this.product.address||this.errors.push("Address is required"),this.product.image||this.errors.push("Image is required"),this.product.phone||this.errors.push("Phone is required"),this.product.map_url||this.errors.push("Map URL is required"),this.errors.length)(0,le.toast)({message:this.errors.join("<br>"),type:"is-warning is-light",dismissible:!0,pauseOnHover:!0,duration:3e3});else{const e=new FormData;e.append("category",this.product.category),e.append("name",this.product.name),e.append("description",this.product.description),e.append("address",this.product.address),e.append("image",this.product.image),e.append("phone",this.product.phone),e.append("map_url",this.product.map_url),e.append("owner",localStorage.getItem("username")),console.log("form",e),await k.Z.post("/api/v1/products/create/",e).then((e=>{(0,le.toast)({message:"New shop created successfully!",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:3e3});const t=this.$route.query.to||"/user/shop-owner-view";console.log("topath",t),window.location.href=t})).catch((e=>{e.response&&console.log(e)}))}},getShopList(){k.Z.get("/api/v1/products/getlist").then((e=>{console.log(e.data),this.productlist=e.data})).catch((e=>{console.log(e)}))},deleteProduct(e){window.confirm("Are you sure you would like to delete this shop?")&&(console.log("product id",e.id),k.Z["delete"](`/api/v1/products/${e.id}`).then((e=>{console.log("shop deleted");const t=this.$route.query.to||"/user/shop-owner-view";console.log("topath",t),window.location.href=t,(0,le.toast)({message:"Shop deleted",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:2e4})})).catch((e=>{console.log(e)})))}}};const to=(0,x.Z)(eo,[["render",Qs],["__scopeId","data-v-4f5eb5f4"]]);var so=to;const oo=e=>((0,a.dD)("data-v-a26d9892"),e=e(),(0,a.Cn)(),e),ao={class:"about-us"},ro=oo((()=>(0,a._)("div",{class:"columns is-centered"},[(0,a._)("div",{class:"column is-two-thirds"},[(0,a._)("h1",{class:"title"},"About Us"),(0,a._)("p",{class:"subtitle"},"Learn more about our company and what we do"),(0,a._)("hr"),(0,a._)("p",null,"At GlasGo, we are passionate about connecting people to the best shops in Glasgow. Our platform allows users to browse and discover a variety of shops in different categories such as fashion, food, and more. Users can also leave reviews, ratings, and save their favorite shops for easy access. Our goal is to make it easy for people to find the best shops in Glasgow and have a great shopping experience.")])],-1))),io=[ro];function no(e,t,s,o,r,i){return(0,a.wg)(),(0,a.iD)("div",ao,io)}var lo={name:"AboutUs"};const co=(0,x.Z)(lo,[["render",no],["__scopeId","data-v-a26d9892"]]);var uo=co;const po={class:"contact-us"},go=(0,a.uE)('<div class="columns"><div class="column is-7"><h1 class="title">Contact Us</h1><p> For any questions or inquiries, please don&#39;t hesitate to contact us. You can reach us using the following information: </p><div class="columns mt-5"><div class="column is-4"><h4 class="title is-5">Address</h4><p>123 Example Street</p><p>Glasgow, G1 1XX</p></div><div class="column is-4"><h4 class="title is-5">Phone</h4><p>+44 141 123 4567</p></div></div></div></div>',1),mo=[go];function ho(e,t){return(0,a.wg)(),(0,a.iD)("div",po,mo)}const vo={},_o=(0,x.Z)(vo,[["render",ho]]);var wo=_o;const fo=[{path:"/",name:"home",component:V},{path:"/about",name:"AboutView",component:uo},{path:"/contact",name:"ContactView",component:wo},{path:"/search",name:"Search",component:Oe},{path:"/sign-up",name:"SignUp",component:Qe},{path:"/log-in",name:"LogIn",component:vt},{path:"/my-account",name:"MyAccount",component:At,meta:{requireLogin:!0}},{path:"/:category_slug/:product_slug",name:"Product",component:de},{path:"/:category_slug",name:"Category",component:Ue},{path:"/category",name:"ShowCategory",component:Bt},{path:"/:category_slug/:product_slug/addreviews",name:"Review",component:ms,props:!0,meta:{requireLogin:!0}},{path:"/user/shop-owner-view",name:"ShopOwner",component:so,meta:{requireLogin:!0}}],yo=(0,U.p7)({history:(0,U.PO)("/"),routes:fo});yo.beforeEach(((e,t,s)=>{e.matched.some((e=>e.meta.requireLogin))&&!z.state.isAuthenticated?s({name:"LogIn",query:{to:e.path}}):s()}));var bo=yo;k.Z.defaults.baseURL="https://tluachan.eu.pythonanywhere.com/",(0,o.ri)(D).use(z).use(bo,k.Z).mount("#app")}},t={};function s(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,o,a,r){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],r=e[u][2];for(var n=!0,l=0;l<o.length;l++)(!1&r||i>=r)&&Object.keys(s.O).every((function(e){return s.O[e](o[l])}))?o.splice(l--,1):(n=!1,r<i&&(i=r));if(n){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,a,r]}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,r,i=o[0],n=o[1],l=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(l)var u=l(s)}for(t&&t(o);c<i.length;c++)r=i[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(u)},o=self["webpackChunkdjackets_vue"]=self["webpackChunkdjackets_vue"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(7743)}));o=s.O(o)})();
//# sourceMappingURL=app.88a6b1f3.js.map